
#pragma once

#include <glad/glad.h>
#include <GLFW/glfw3.h>

//math lib headers
#include <glm/glm.hpp>
#include <glm/gtc/matrix_transform.hpp>
#include <glm/gtc/type_ptr.hpp>

//------------------------
#include <vector>
#include <random>


namespace voxelmanager {

    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    enum VoxelType {
        ALIVE,
        EMPTY
    };
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    struct Voxel {
        glm::vec3 position;
        glm::ivec3 gridPos;
        VoxelType type;
        glm::vec3 color;
    };

    //--------------------------------------------------------------
    //--------------------------------------------------------------
    extern unsigned int sharedVAO;
    extern unsigned int sharedVBO;
    extern unsigned int sharedEBO;
    extern unsigned int VBOPositions;
    extern unsigned int VBOColors;

    extern float cellSize;

    //declare in .cpp
    extern const int WORLD_MIN_X;
    extern const int WORLD_MAX_X;
    extern const int WORLD_MIN_Y;
    extern const int WORLD_MAX_Y;
    extern size_t lastPositionSize;
    extern size_t lastColorSize;
    
    //will hold the voxels
    extern std::vector<Voxel> voxelsList;

    //declare and fill in setup call
    extern std::vector<glm::vec3> instancesPositions;
    extern std::vector<glm::vec3> instancesColors;

    //----------- for random voxel colors (picked from list) (temp for now)
    extern std::random_device rd;
    extern std::mt19937 mt;
    extern std::vector<glm::vec3> voxelColorsList;

    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    void setupSharedCubeGeometry();
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    void initInstacesData();
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    void updateInstacesData();
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    glm::vec3 WorldToGridPosition(glm::vec3 worldPos);
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    void updateVoxelPositions();
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------
    
    //----------------------------------------------------------------------------------------------
    //----------------------------------------------------------------------------------------------



};